<!--
N.B.: This README was automatically generated by https://github.com/YunoHost/apps/tree/master/tools/README-generator
It shall NOT be edited by hand.
-->

# Matrix Signal bridge pour YunoHost

[![Niveau d‚Äôint√©gration](https://dash.yunohost.org/integration/mautrix_signal.svg)](https://dash.yunohost.org/appci/app/mautrix_signal) ![Statut du fonctionnement](https://ci-apps.yunohost.org/ci/badges/mautrix_signal.status.svg) ![Statut de maintenance](https://ci-apps.yunohost.org/ci/badges/mautrix_signal.maintain.svg)

[![Installer Matrix Signal bridge avec YunoHost](https://install-app.yunohost.org/install-with-yunohost.svg)](https://install-app.yunohost.org/?app=mautrix_signal)

*[Read this readme in english.](./README.md)*

> *Ce package vous permet d‚Äôinstaller Matrix Signal bridge rapidement et simplement sur un serveur YunoHost.
Si vous n‚Äôavez pas YunoHost, regardez [ici](https://yunohost.org/#/install) pour savoir comment l‚Äôinstaller et en profiter.*

## Vue d‚Äôensemble

Une passerelle entre Matrix et Signal empaquet√©e comme un service YunoHost. Les messages, m√©dias et notifications sont relay√©es entre un compte Signal et un compte Matrix. 
La passerelle ["Mautrix-Signal"](https://docs.mau.fi/bridges/python/signal/index.html) consiste en un Service d'Application Matrix-Synapse et repose sur une base-de-donn√©es postgresql. C'est pourquoi [Synapse for YunoHost](https://github.com/YunoHost-Apps/synapse_ynh) doit √™tre pr√©alablemnet install√©.

** Attention : sauvegardez et restaurez toujours les deux applications Yunohost matrix-synapse et mautrix_signal en m√™me temps!**


**Version incluse¬†:** 0.4.3~ynh1
## Avertissements / informations importantes

## Liste de passerelles publiques

* Demandez sur un des salons suivants: #mautrix_yunohost:matrix.fdn.fr or #signal:maunium.net

## Usages de la passerelle
** Notez que plusieurs comptes Signal et Matrix peuvent √™tre relay√©s, chaque compte Signal connect√© a son propre Salon d'Administration. Si plusieurs utilisateur.ice.s du Robot sont dans un m√™me groupe Signal, seul un Salon Matrix sera cr√©√© par la passerelle. **

### Relayer TOUTES les conversations entre UN compte Signal et UN compte Matrix
* Pr√©requis : votre compte Matrix ou le serveur sur lequel il est h√©berg√© doit √™tre autoris√© dans la configuration de la passerelle (voir ci-dessous)
* Invitez le Robot (par d√©faut @signalbot:synapse.votredomaine) √† une nouvelle conversation.
* Ce nouveau salon d'administration du Robot Mautrix-Signal est appel√© "Administration Room".
* Envoyez ``help`` au Robot dans le "Administration Room" pour une liste des commandes d'administration de la passerelle.
Voir aussi [upstream wiki Authentication page](https://docs.mau.fi/bridges/python/signal/authentication.html)

#### Relier la passerelle comme un appareil secondaire
* Tapez ``!sg link``
* Ouvrez l'application Signal de votre appareil principal
* Ouvrez Param√®tres => Appareils reli√©s => + => filmer le QR
* Par d√©faut, seules les conversations avec des messages tr√®s r√©cents seront mises-en-miroir
* Acceptez les invitations aux salons

#### Enregistrer la passerelle comme appareil principal
* Tapez ``!sg register <phone>``, o√π ``<phone>`` est votre num√©ro de t√©l√©phone au format international sans espace, p.ex. ``!sg register +33612345678``
* R√©pondez dans le salon d'administration avec le code de v√©rification re√ßu par SMS.
* D√©finissez une nom de profil ``!sg set-profile-name <name>``

### Robot-Relai "Relaybot": Relayer les conversations de TOUS les comptes Matrix et TOUS les comptes Signal pr√©sents dans UN groupe/salon
* Pas impl√©ment√© pour l'instant

## Configuration de la passerelle

La passerelle est [configur√©e avec les param√®tres standards adapt√©s pour votre YunoHost et l'instance Matrix-Synapse s√©lectionn√©e](https://github.com/YunoHost-Apps/mautrix_signal_ynh/blob/master/conf/config.yaml). Vous pouvez par exemple ajouter des administrateur.ice.s et utilisateur.ice.s du Robot autoris√©s en modifiant le fichier de configuration par liaison SSH: 
``` sudo nano /opt/yunohost/mautrix_signal/config.yaml```
puis en red√©marrant le service: 
``` sudo yunohost service restart mautrix_signal```

## Documentation

 * Documentation officielle "Mautrix-Signal": https://docs.mau.fi/bridges/python/signal/index.html
 * Salon Matrix sur les Passerelles dans Yunohost): #mautrix_yunohost:matrix.fdn.fr
 * Salon Matrix (application principale): #signal:maunium.net
Si vous devez t√©l√©verser vos fichiers log quelque-part, soyez avertis qu'ils contiennent des informations sur vos contacts et vos num√©ros de t√©l√©phone. Effacez-les avec 
``| sed -r 's/[0-9]{10,}/üìû/g' ``
 * La passerelle "Mautrix-Signal" repose sur l'impl√©mentation du [daemon signald](https://gitlab.com/signald/signald) . 
 * Documentation YunoHost: Si une documentation sp√©cifique est n√©cessaire, n'h√©sitez pas √† contribuer.

## Caract√©ristiques sp√©cifiques YunoHost

#### Support multi-comptes
* Les utilisateur.ice.s du Robot ne sont pas li√©s aux comptes Yunohost. N'importe quel compte Matrix ou serveur Synapse autoris√©s dans la configuration de la passerelle peut inviter/utiliser le Robot. 
* Le robot Signal est un utilisateur Matrix-Synapse local, mais accessible via la f√©d√©ration (Synapse public ou priv√©).
* Plusieurs comptes Signal et Matrix peuvent √™tre li√©s avec une seule passerelle, chaque compte a son propre salon d'administration. 
* Si plusieurs utilisateur.ice.s du Robot sont dans un m√™me groupe Signal, seul un Salon Matrix sera cr√©√© par la passerelle. Autrement dit, la passerelle construit un seul miroir du r√©seau de discussion existant sur Signal (utilisateurs et salons).
* Voir https://github.com/YunoHost-Apps/synapse_ynh#multi-users-support

#### Support multi-instance

* L'installation multi-instance devrait fonctionner. Plusieurs instances de passerelles pourraient √™tre install√©es pour une instance de Matrix-Synapse. Cela permet √† un compte matrix de se relier √† plusieurs comptes Signal. 
* Plusieurs instances de passerelles pourraient √™tre install√©es pour que chaque instance de Matrix-Synapse puisse en b√©n√©ficier. Mais une passerelle peut √™tre utilis√©e par les comptes de plusieurs instances Matrix-Synapse.

## Limitations

* Les appels Audio/Video ne sont pas relay√©s. Seule une notification apparait. 

## Documentations et ressources

* Documentation officielle utilisateur¬†: <https://docs.mau.fi/bridges/python/signal/index.html>
* D√©p√¥t de code officiel de l‚Äôapp¬†: <https://github.com/mautrix/signal>
* YunoHost Store: <https://apps.yunohost.org/app/mautrix_signal>
* Signaler un bug¬†: <https://github.com/YunoHost-Apps/mautrix_signal_ynh/issues>

## Informations pour les d√©veloppeurs

Merci de faire vos pull request sur la [branche testing](https://github.com/YunoHost-Apps/mautrix_signal_ynh/tree/testing).

Pour essayer la branche testing, proc√©dez comme suit.

``` bash
sudo yunohost app install https://github.com/YunoHost-Apps/mautrix_signal_ynh/tree/testing --debug
ou
sudo yunohost app upgrade mautrix_signal -u https://github.com/YunoHost-Apps/mautrix_signal_ynh/tree/testing --debug
```

**Plus d‚Äôinfos sur le packaging d‚Äôapplications¬†:** <https://yunohost.org/packaging_apps>